<h2>Register</h2>

<form (ngSubmit)="onSubmit()" #registerForm="ngForm">
  
  <label>Name:</label>
  <input type="text" name="name" [(ngModel)]="model.name" 
  required minlength="5" pattern="^[A-Za-z ]+$"
  #name="ngModel" [class.invalid]="name.invalid && name.touched" />
  <div *ngIf="name.invalid && name.touched" class="error">
    Name must be at least 5 characters and contain only letters and spaces.
  </div>

  <label>Email:</label>
  <input type="email" name="email" [(ngModel)]="model.email"
  required #email="ngModel" [class.invalid]="email.invalid && email.touched" />
  <div *ngIf="email.invalid && email.touched" class="error">
    Please enter a valid email address.
  </div>

  <label>Phone:</label>
  <input type="tel" name="phone" [(ngModel)]="model.phone"
  required pattern="^[0-9]{10}$"
  #phone="ngModel" [class.invalid]="phone.invalid && phone.touched" />
  <div *ngIf="phone.invalid && phone.touched" class="error">
    Phone number must be a 10-digit number.
  </div>

  <label>Date of Birth:</label>
  <input type="date" name="dob" [(ngModel)]="model.dob"
  required #dob="ngModel" [class.invalid]="dob.invalid && dob.touched" />
  <div *ngIf="dob.invalid && dob.touched" class="error">
    Date of birth is required.
  </div>

  <label>Address:</label>
  <input type="text" name="address" [(ngModel)]="model.address"
  required pattern="^[A-Za-z0-9 ]+$"
  #address="ngModel" [class.invalid]="address.invalid && address.touched" />
  <div *ngIf="address.invalid && address.touched" class="error">
    Address must contain only letters, numbers, and spaces.
  </div>

  <label>Province:</label>
  <select name="province" [(ngModel)]="model.province"
  required #province="ngModel" [class.invalid]="province.invalid && province.touched">
    <option value="" disabled selected>Select Province</option>
    <option *ngFor="let province of provinces" [value]="province">{{ province }}</option>
  </select>
  <div *ngIf="province.invalid && province.touched" class="error">
    Please select a province.
  </div>


  <label>Country:</label>
  <select name="country" [(ngModel)]="model.country" required>
    <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
  <select
    name="country"
    [(ngModel)]="model.country"
    countryValidator
    #countryCtrl="ngModel"
    required>
r    <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
  </select>
  <div *ngIf="!countryCtrl.valid && countryCtrl.dirty">
    Country must be Canada.
  </div>

  <label>
    <input type="checkbox" name="termsAccepted" [(ngModel)]="model.termsAccepted" />
    I accept the terms and conditions
  </label>
</select>

  <button type="submit" [disabled]="!countryCtrl.valid">Register</button>

</form>

<style>
  .invalid {
    border: 1px solid red;
  }

  .error {
    color: red;
    font-size: 0.9rem;
    margin-bottom: 10px;
  }

  input, select {
    display: block;
    margin-bottom: 10px;
    padding: 5px;
  }
</style>